# Environment Variables Guide\n\nThis document explains all environment variables needed for ConvoForms.\n\n## Required Variables\n\n### Database\n```bash\nDATABASE_URL=\"postgresql://username:password@localhost:5432/convoforms\"\n```\n\n### Authentication (Clerk)\n```bash\nNEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=\"pk_test_...\"\nCLERK_SECRET_KEY=\"sk_test_...\"\n```\n\n### App Configuration\n```bash\nNEXT_PUBLIC_APP_URL=\"http://localhost:3002\"  # Used for invitation URLs and redirects\n```\n\n## Email Integration (Resend)\n\n### Required for Email Invitations\n```bash\n# Get from https://resend.com\nRESEND_API_KEY=\"re_...\"\n\n# Must be a verified domain in Resend\nRESEND_FROM_EMAIL=\"ConvoForms <noreply@yourdomain.com>\"\n```\n\n**Setup Instructions:**\n1. Sign up at [resend.com](https://resend.com)\n2. Add and verify your domain\n3. Generate an API key\n4. Add the variables to your `.env.local`\n\n**Without Resend:** The app will work but invitation emails won't be sent (invitations will be created in database only).\n\n## Optional Variables\n\n### Stripe Billing (Future)\n```bash\nSTRIPE_SECRET_KEY=\"sk_...\"\nSTRIPE_WEBHOOK_SECRET=\"whsec_...\"\nSTRIPE_PUBLISHABLE_KEY=\"pk_...\"\n```\n\n### AI Integration\n```bash\n# Already configured for Google Gemini\nGOOGLE_AI_API_KEY=\"...\"\n```\n\n### Analytics (Future)\n```bash\nGOOGLE_ANALYTICS_ID=\"G-...\"\nPOSTHOG_API_KEY=\"...\"\n```\n\n## Environment File Template\n\nCreate `.env.local` with:\n\n```bash\n# =============================================================================\n# DATABASE\n# =============================================================================\nDATABASE_URL=\"postgresql://postgres:password@localhost:5432/convoforms\"\n\n# =============================================================================\n# AUTHENTICATION (Clerk)\n# =============================================================================\nNEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=\"pk_test_...\"\nCLERK_SECRET_KEY=\"sk_test_...\"\n\n# =============================================================================\n# APP CONFIGURATION\n# =============================================================================\nNEXT_PUBLIC_APP_URL=\"http://localhost:3002\"\n\n# =============================================================================\n# EMAIL SERVICE (Resend)\n# =============================================================================\nRESEND_API_KEY=\"re_...\"\nRESEND_FROM_EMAIL=\"ConvoForms <noreply@yourdomain.com>\"\n\n# =============================================================================\n# AI INTEGRATION\n# =============================================================================\nGOOGLE_AI_API_KEY=\"...\"\n\n# =============================================================================\n# OPTIONAL - BILLING (Future)\n# =============================================================================\n# STRIPE_SECRET_KEY=\"sk_...\"\n# STRIPE_WEBHOOK_SECRET=\"whsec_...\"\n# STRIPE_PUBLISHABLE_KEY=\"pk_...\"\n\n# =============================================================================\n# OPTIONAL - ANALYTICS (Future)\n# =============================================================================\n# GOOGLE_ANALYTICS_ID=\"G-...\"\n# POSTHOG_API_KEY=\"...\"\n```\n\n## Deployment Considerations\n\n### Vercel\nAdd all variables in the Vercel dashboard under \"Environment Variables\".\n\n### Docker\nMount environment variables or use Docker secrets for sensitive data.\n\n### Security Notes\n- Never commit `.env.local` to git\n- Use different API keys for development/staging/production\n- Rotate API keys regularly\n- Use environment-specific domains for email sending\n\n## Troubleshooting\n\n### Email Not Sending\n1. Check `RESEND_API_KEY` is correct\n2. Verify domain in Resend dashboard\n3. Check email status in database (`workspace_invitations.email_status`)\n4. Look for error messages in logs\n\n### Database Connection Issues\n1. Ensure PostgreSQL is running (`npm run db:up`)\n2. Check `DATABASE_URL` format\n3. Verify credentials and database exists\n\n### Authentication Issues\n1. Check Clerk keys are for correct environment\n2. Verify domain configuration in Clerk dashboard\n3. Ensure `NEXT_PUBLIC_APP_URL` matches your domain\n